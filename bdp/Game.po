THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinedness_Precondition_stand_action.2,(_f(46) & _f(37) => _f(47));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinedness_Precondition_stand_action.1,(_f(37) => _f(47));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.23,(_f(26) & _f(25) & _f(37) => _f(41));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.22,(_f(26) & _f(25) & _f(37) => _f(40));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.21,(_f(26) & _f(25) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.20,(_f(26) & _f(25) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.19,(_f(26) & _f(24) & _f(23) & _f(16) & _f(37) => _f(41));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.18,(_f(26) & _f(24) & _f(23) & _f(16) & _f(37) => _f(40));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.17,(_f(26) & _f(24) & _f(23) & _f(16) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.16,(_f(26) & _f(24) & _f(23) & _f(16) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.15,(_f(26) & _f(24) & _f(23) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.14,(_f(26) & _f(24) & _f(23) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.13,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(16) & _f(37) => _f(41));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.12,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(16) & _f(37) => _f(40));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.11,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(16) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.10,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(16) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.9,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.8,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.7,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(37) => _f(43));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.6,(_f(26) & _f(24) & _f(20) & _f(17) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.5,(_f(26) & _f(24) & _f(20) & _f(17) & _f(37) => _f(42));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.4,(_f(26) & _f(37) => _f(41));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.3,(_f(26) & _f(37) => _f(40));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.2,(_f(26) & _f(37) => _f(39));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_hit_action.1,(_f(26) & _f(37) => _f(38));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(31) & stand_action.3,(_f(28) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(31) & stand_action.2,(_f(28) & _f(27) => _f(33));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(31) & stand_action.1,(_f(28) & _f(27) => _f(32));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.9,(_f(26) & _f(25) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.8,(_f(26) & _f(24) & _f(23) & _f(16) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.7,(_f(26) & _f(24) & _f(23) & _f(15) & _f(22) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.6,(_f(26) & _f(24) & _f(23) & _f(15) & _f(21) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.5,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(16) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.4,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(15) & _f(14) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.3,(_f(26) & _f(24) & _f(20) & _f(17) & _f(18) & _f(19) & _f(15) & _f(13) & _f(8) & _f(9) => _f(30));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.2,(_f(26) & _f(27) => _f(29));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & hit_action.1,(_f(26) & _f(27) => _f(28));
_f(1) & _f(2) & _f(3) & _f(4) & Initialisation.1,(_f(5) & _f(6) & _f(7) & _f(6) & _f(5) & _f(6) & _f(8) & _f(9) => _f(10))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..13)*{CARDS}): FIN(NATURAL*{CARDS}) & not(((1..13)*{CARDS}) = {}) & ((1..4)*{SUITS}): FIN(NATURAL*{SUITS}) & not(((1..4)*{SUITS}) = {}) & ((1..2)*{PLAYER_TYPE}): FIN(NATURAL*{PLAYER_TYPE}) & not(((1..2)*{PLAYER_TYPE}) = {});
player_cards : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS}))) & ((player_bet) : (NAT)) & ((player_points) : ((((((1..13)*{CARDS}) * ((1..4)*{SUITS}))) <-> (NAT)))) & ((total_points) : (NAT)) & dealer_cards : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS}))) & ((dealer_points) : (NAT));
((cards_points) : (((((1..13)*{CARDS})) <-> (NAT))));
{} : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS})));
((0) : (NAT));
(({}) : ((((((1..13)*{CARDS}) * ((1..4)*{SUITS}))) <-> (NAT))));
"Invariant is preserved";
"Check invariant game_cards : POW( (CARDS * SUITS))";
(((1..13)*{CARDS}) * ((1..4)*{SUITS})) : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS})));
game_cards : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS}))) & ((current_player) : (((1..2)*{PLAYER_TYPE})));
not(player_bet = 0);
(21 +1 <= ((total_points - 10) + 11));
not((21 +1 <= ((total_points - 10) + 11)));
(((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(cc)) = ((1|->CARDS)));
not((((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(cc)) = ((1|->CARDS))));
((xx) : (dom(player_points)));
(((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(xx)) = ((1|->CARDS)));
((11) = ((player_points )(xx)));
(((1|->CARDS)) : (dom(dom(player_points))));
(21 +1 <= (total_points + 11));
not((21 +1 <= (total_points + 11)));
not((((1|->CARDS)) : (dom(dom(player_points)))));
(21 +1 <= (total_points + (cards_points )((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(cc))));
not((21 +1 <= (total_points + (cards_points )((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(cc)))));
((cc) : (game_cards));
"Precondition predicate";
((cc) : ((((1..13)*{CARDS}) * ((1..4)*{SUITS}))));
not(cc : player_cards);
(game_cards - ({cc})) : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS})));
(SIGMA(zz).(((zz) : (ran(player_points))) | zz) <= 21) & (0 <= SIGMA(zz).(((zz) : (ran(player_points))) | zz)) & not(player_bet = 0);
(dealer_points <= 18);
(0 <= dealer_points);
((bet) : (NAT));
btrue;
game_cards : POW( (((1..13)*{CARDS}) * ((1..4)*{SUITS})));
"Well definedness";
((cc) : (dom(prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))))));
((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS}))))) : (((dom(prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))))) +-> (ran(prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))))))));
(((prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))) )(cc)) : (dom(cards_points)));
((cards_points) : (((dom(cards_points)) +-> (ran(cards_points)))));
((xx) : (dom(prj1(((((1..13)*{CARDS})) , (((1..4)*{SUITS})))))));
((player_points) : (((dom(player_points)) +-> (ran(player_points)))));
((zz) : (ran(player_points)));
(0 <= SIGMA(zz).(((zz) : (ran(player_points))) | zz));
(SIGMA(zz).(((zz) : (ran(player_points))) | zz) <= 21);
((SET(zz).(((zz) : (ran(player_points))))) : (FIN(SET(zz).(((zz) : (ran(player_points)))))))
END
&
THEORY EnumerateX IS
CARDS == {ACE,TWO,THREE,FOUR,FIVE,SIX,SEVEN,EIGHT,NINE,TEN,JACK,QUEEN,KING};
PLAYER_TYPE == {PLAYER,DEALER};
SUITS == {HEART,DIAMOND,CLUB,SPADE}
END
